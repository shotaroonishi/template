"use strict";var _aos=_interopRequireDefault(require("./../sass/aos.scss")),_lodash=_interopRequireDefault(require("lodash.throttle")),_lodash2=_interopRequireDefault(require("lodash.debounce")),_observer=_interopRequireDefault(require("./libs/observer")),_detector=_interopRequireDefault(require("./helpers/detector")),_handleScroll=_interopRequireDefault(require("./helpers/handleScroll")),_prepare=_interopRequireDefault(require("./helpers/prepare")),_elements=_interopRequireDefault(require("./helpers/elements"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var $aosElements=[],initialized=!1,options={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},refresh=function(){if(initialized=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?!0:initialized)return $aosElements=(0,_prepare.default)($aosElements,options),(0,_handleScroll.default)($aosElements,options.once),$aosElements},refreshHard=function(){$aosElements=(0,_elements.default)(),refresh()},disable=function(){$aosElements.forEach(function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")})},isDisabled=function(e){return!0===e||"mobile"===e&&_detector.default.mobile()||"phone"===e&&_detector.default.phone()||"tablet"===e&&_detector.default.tablet()||"function"==typeof e&&!0===e()},init=function(e){options=Object.assign(options,e),$aosElements=(0,_elements.default)();e=document.all&&!window.atob;return isDisabled(options.disable)||e?disable():(document.querySelector("body").setAttribute("data-aos-easing",options.easing),document.querySelector("body").setAttribute("data-aos-duration",options.duration),document.querySelector("body").setAttribute("data-aos-delay",options.delay),"DOMContentLoaded"===options.startEvent&&-1<["complete","interactive"].indexOf(document.readyState)?refresh(!0):("load"===options.startEvent?window:document).addEventListener(options.startEvent,function(){refresh(!0)}),window.addEventListener("resize",(0,_lodash2.default)(refresh,options.debounceDelay,!0)),window.addEventListener("orientationchange",(0,_lodash2.default)(refresh,options.debounceDelay,!0)),window.addEventListener("scroll",(0,_lodash.default)(function(){(0,_handleScroll.default)($aosElements,options.once)},options.throttleDelay)),options.disableMutationObserver||(0,_observer.default)("[data-aos]",refreshHard),$aosElements)};module.exports={init:init,refresh:refresh,refreshHard:refreshHard};